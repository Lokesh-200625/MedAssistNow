<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - medAssistNow</title>
    <link rel="stylesheet" href="/user/style.css">
    <!-- cart.css removed (styles merged) -->
</head>

<body>

    <nav class="navbar">
        <div class="logo">medAssistNow</div>
        <ul class="nav-menu">
            <li><a href="/user/home.html"><span>ğŸ </span> Home</a></li>
            <li><a href="/user/cart.html" class="active"><span>ğŸ›’</span> Cart</a></li>
            <li><a href="/user/pharmacies.html"><span>ğŸ“</span> Pharmacies</a></li>
            <li><a href="/user/history.html"><span>ğŸ“œ</span> Orders</a></li>
            <li><a id="loginBtn" class="login-btn" href="/user/login.html"><span>ğŸ‘¤</span> Log In</a></li>
            <li><a id="logoutBtn" class="login-btn" style="display:none;"><span>ğŸšª</span> Logout</a></li>
        </ul>
    </nav>

    <!-- POPUPS -->
    <div id="logoutConfirmBox" class="confirm-box">
        <div class="confirm-content">
            <h2>Are you sure you want to logout?</h2>
            <div class="confirm-buttons" style="margin-top:1rem;">
                <button id="confirmLogoutYes" style="background:var(--primary); color:white;">Yes</button>
                <button id="confirmLogoutNo" style="background:var(--border-light); color:black;">No</button>
            </div>
        </div>
    </div>

    <div id="errorPopup" class="confirm-box">
        <div class="confirm-content">
            <h2 id="errorMessage" style="color:red;">Error</h2>
            <button id="errorOk" style="margin-top:1rem;">OK</button>
        </div>
    </div>


    <section class="page cart-page" style="padding-bottom: 6rem;"> <!-- Extra padding for sticky bar -->
        <h1 style="text-align: center; margin-bottom: 2rem;">Your Cart</h1>

        <!-- ORIGINAL ID (do not remove or change) -->
        <ul id="cart-items" class="cart-list"></ul>

        <!-- EMPTY CART -->
        <div id="emptyCart" class="empty-cart">
            <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 1rem;">ğŸ›’</div>
            <h2>No medicines added yet</h2>
            <p>Browse medicines to get started</p>
            <button onclick="window.location='/user/home.html'" class="btn-primary" style="margin-top:1rem;">Search
                Medicines</button>
        </div>
    </section>


    <!-- STICKY CHECKOUT BAR -->
    <div class="checkout-bar">
        <h3 id="cartTotalDisplay">Total: â‚¹0</h3>
        <div style="display:flex; gap:1rem;">

            <button class="btn-primary" onclick="placeOrder()">ğŸ’Š Place Order</button>
        </div>
    </div>


    <script src="/socket.io/socket.io.js"></script>
    <script src="/user/script.js"></script>

    <script>
        // Auto-load cart
        if (typeof loadCart === "function") {
            loadCart();
        }
    </script>

</body>

</html>